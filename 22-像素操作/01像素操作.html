<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <canvas id="canvas" width="600" height="500">
    å½“å‰æµè§ˆå™¨ä¸æ”¯æŒcanvasï¼Œè¯·ä¸‹è½½æœ€æ–°æµè§ˆå™¨
    <a href="https://www.google.cn/chrome/">ä¸‹è½½Chrome</a>
  </canvas>
  <script>
    // 1.æ‰¾åˆ°canvaså¯¹è±¡
    var cav = document.getElementById("canvas");
    // 2.è·å–ç”»å¸ƒçš„ 2D æ¸²æŸ“ä¸Šä¸‹æ–‡
    var ctx = cav.getContext("2d");

    // è·å–å›¾ç‰‡
    var img = new Image();
    img.src = '../assets/img/arc.png' // éœ€è¦ç­‰å¾…å›¾ç‰‡åŠ è½½
    img.onload = function() {
      ctx.drawImage(img, 0, 0, 300, 250); 
      // é€šè¿‡ctx
      let imageData = ctx.getImageData(0, 0, 300, 250);
      console.log("ğŸš€ è·å–åƒç´ å¯¹è±¡æ•°æ®:", imageData.data)
      
      for (let i = 0; i < imageData.data.length; i+=4) {
        imageData.data[i] = 255 - imageData.data[i]
        imageData.data[i+1] = 255 - imageData.data[i+1]
        imageData.data[i+2] = 255 - imageData.data[i +2 ]
        imageData.data[i+3] = 255
      }
      // context.putImageData(imagedata, dx, dy, dirtyX, dirtyY, dirtyWidth, dirtyHeight);
      // putImageData(imagedata, åŸºå‡†x, åŸºå‡†y, å˜æ¢xè½´, å˜æ¢yè½´, dirtyWidth, dirtyHeight);
      ctx.putImageData(imageData, 0, 0, 150, 125, 150, 125); // ä»¥300,250ç‚¹ä½ï¼Œå°†ç»™å®šImageDataå¯¹è±¡ä¸­çš„æ•°æ®ç»˜åˆ¶åˆ°ç”»å¸ƒä¸Šã€‚
    }
  </script>
</body>
</html>